# OpenSearch log4j2 configuration — JSON console output
#
# Switches the console (stdout) appender from the default plain-text PatternLayout
# to OpenSearchJsonLayout.  This is the same layout OpenSearch uses for its
# internal .json rolling-file appenders; the output fields map directly to ECS
# and are consumed by Alloy's generic parse_logs processor without changes.
#
# File-based appenders are omitted deliberately: in this Docker deployment all
# logs are collected via stdout → Alloy → Loki, so rolling files on the
# ephemeral container filesystem would serve no purpose.
#
# Runtime log-level changes (no restart needed):
#   PUT http://localhost:9200/_cluster/settings
#   {"transient":{"logger.org.opensearch":{"level":"DEBUG"}}}

status = error

appender.console.type = Console
appender.console.name = console
appender.console.layout.type = OpenSearchJsonLayout
appender.console.layout.type_name = json_logger

rootLogger.level = info
rootLogger.appenderRef.console.ref = console

logger.deprecation.name = org.opensearch.deprecation
logger.deprecation.level = warn
logger.deprecation.appenderRef.console.ref = console
logger.deprecation.additivity = false
