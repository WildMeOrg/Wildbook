import React from "react";
import { observer } from "mobx-react-lite";
import { FormattedMessage } from "react-intl";
import { useState, useMemo, useEffect } from "react";
import ImageModal from "./ImageModal";
import "swiper/css";
import "swiper/css/navigation";
import "swiper/css/thumbs";
import "swiper/css/zoom";
import PaginationBar from "../../../components/PaginationBar";
import FullScreenLoader from "../../../components/FullScreenLoader";

const GalleryView = observer(({ store }) => {
  const allData = [
    {
      date: "2025-07-28T12:00Z",
      microsatelliteMarkers: [],
      country: null,
      importTaskId: "b4c6db61-5799-4226-bca9-bea58c74047f",
      projects: [],
      dynamicProperties: {},
      occurrenceLocationGeoPoint: null,
      occurrenceMaxGroupSizeEstimate: 2,
      taxonomy: "Giraffa tippelskirchi",
      photographers: [],
      submitterUserId: "b307a1a6-416c-420d-9bce-e7d579fe1a32",
      importTaskSourceName: "TEST sighting_import.xlsx",
      occurrenceComments: "None",
      mediaAssetLabeledKeywords: {},
      id: "eeae9dab-85b3-46a0-88e3-3244d382edb5",
      state: "",
      tissueSampleIds: [],
      biologicalMeasurements: {},
      importTaskCreatorId: "9d207cda-92b8-4b95-b1ba-c98845324f45",
      occurrenceGroupBehavior: "chillin",
      featuredAssetUuid: "66b2f834-da0a-4bb9-b912-222d787b9ac2",
      verbatimEventDate: null,
      mediaAssets: [
        {
          mimeTypeMinor: "jpeg",
          width: 800,
          annotations: [
            {
              boundingBox: [0, 0, 800, 800],
              id: "ba764434-995a-46ce-b404-41f419b738c7",
              encounterId: "eeae9dab-85b3-46a0-88e3-3244d382edb5",
              theta: 0,
            },
          ],
          mimeTypeMajor: "image",
          id: 174883,
          uuid: "66b2f834-da0a-4bb9-b912-222d787b9ac2",
          url: "https://qa.wildme.org/wildbook_data_dir/b/4/b4c6db61-5799-4226-bca9-bea58c74047f/80e40345-9c15-481f-a9cc-a69c228317d1-master.jpg",
          height: 800,
        },
      ],
      occurrenceMinGroupSizeEstimate: 1,
      verbatimLocality: null,
      numberMediaAssets: 1,
      metalTags: [],
      version: 1753793978000,
      patterningCode: null,
      annotationIAClasses: [],
      occurrenceGroupComposition: null,
      livingStatus: null,
      dateSubmitted: "2025-07-29T12:59:38",
      mediaAssetKeywords: [],
      access: "full",
      numberAnnotations: 0,
      geneticSex: null,
      individualId: null,
      occurrenceId: "123",
      submitters: [
        "b307a1a6-416c-420d-9bce-e7d579fe1a32",
        "Anastasia",
        "anastasia@wildme.org",
        "apagan",
      ],
      dateMillis: 1753704000000,
      distinguishingScar: "None",
      publiclyReadable: false,
      occurrenceIndividualCount: 1,
      locationId: "KB",
      behavior: null,
      measurements: [],
      locationName: "Klufterbach",
      haplotype: null,
      locationGeoPoint: null,
      sex: null,
      assignedUsername: "apagan",
      informOthers: [],
      indexTimestamp: 1755274419226,
      otherCatalogNumbers: null,
      lifeStage: null,
      organizations: [
        "602aa5e7-59bb-49ee-8e6e-112aeeb82c89",
        "5ea3abf1-905b-4c98-b841-996df8a83ecd",
        "65d65913-95ef-4a4b-beba-72e74ae7c974",
      ],
      occurrenceRemarks: "",
      occurrenceBestGroupSizeEstimate: 1,
      annotationViewpoints: [],
    },
    {
      date: "2025-07-27T06:15Z",
      microsatelliteMarkers: [],
      country: "Andorra",
      projects: [],
      dynamicProperties: {},
      occurrenceLocationGeoPoint: null,
      taxonomy: "Giraffa tippelskirchi",
      photographers: [],
      submitterUserId: "9d207cda-92b8-4b95-b1ba-c98845324f45",
      occurrenceComments:
        "<p><em>tomcat on Fri Aug 01 06:59:11 UTC 2025</em><br>Created newsighting123 from encounter f2b35e62-e42c-4de5-8e6b-442893333059.</p><p><em>tomcat on Fri Aug 01 07:22:33 UTC 2025</em><br>Added encounter e969f61a-529a-4762-bca1-584c61fe806f.</p>",
      mediaAssetLabeledKeywords: {},
      id: "f2b35e62-e42c-4de5-8e6b-442893333059",
      state: "unapproved",
      tissueSampleIds: [],
      biologicalMeasurements: {},
      occurrenceGroupBehavior: null,
      featuredAssetUuid: "070a05de-392d-45fe-a963-4f88d2e6be59",
      verbatimEventDate: "idk",
      mediaAssets: [
        {
          mimeTypeMinor: "jpeg",
          width: 490,
          height: 612,
          annotations: [
            {
              boundingBox: [0, 0, 490, 612],
              id: "24f51eac-216b-441d-bcbf-930de9b66d77",
              encounterId: "f2b35e62-e42c-4de5-8e6b-442893333059",
              theta: 0,
            },
          ],
          mimeTypeMajor: "image",
          id: 174878,
          uuid: "070a05de-392d-45fe-a963-4f88d2e6be59",
          url: "https://qa.wildme.org/wildbook_data_dir/f/2/f2b35e62-e42c-4de5-8e6b-442893333059/4847ed38-e6e5-4361-9a83-e6ba7a77447a-master.jpg",
        },
      ],
      verbatimLocality: "abc",
      numberMediaAssets: 1,
      metalTags: [],
      version: 1754870400000,
      patterningCode: null,
      annotationIAClasses: [],
      occurrenceGroupComposition: null,
      livingStatus: null,
      dateSubmitted: "2025-07-28T07:43:07",
      mediaAssetKeywords: [],
      access: "full",
      numberAnnotations: 0,
      geneticSex: null,
      individualId: null,
      occurrenceId: "newsighting123",
      submitters: [
        "9d207cda-92b8-4b95-b1ba-c98845324f45",
        "tomcat",
        "email@e.mail",
        "Main Cat",
      ],
      dateMillis: 1753596900000,
      distinguishingScar: "None",
      publiclyReadable: false,
      locationId: "KB",
      behavior: null,
      measurements: [],
      locationName: "Klufterbach",
      haplotype: null,
      locationGeoPoint: {
        lon: 23,
        lat: 12,
      },
      sex: null,
      assignedUsername: "tomcat",
      informOthers: [],
      indexTimestamp: 1755274593631,
      otherCatalogNumbers: "namehaha",
      lifeStage: null,
      organizations: [
        "602aa5e7-59bb-49ee-8e6e-112aeeb82c89",
        "65d65913-95ef-4a4b-beba-72e74ae7c974",
      ],
      occurrenceRemarks: "test by pratistha",
      annotationViewpoints: [],
    },
    {
      date: "2025-07-16T16:16Z",
      microsatelliteMarkers: [],
      country: null,
      projects: [],
      dynamicProperties: {},
      occurrenceLocationGeoPoint: null,
      taxonomy: "Giraffa tippelskirchi",
      photographers: [],
      submitterUserId: "a8ec03eb-0171-47e5-897a-6feefcb83f01",
      occurrenceComments:
        "<p><em>tomcat on Fri Aug 01 06:59:11 UTC 2025</em><br>Created newsighting123 from encounter f2b35e62-e42c-4de5-8e6b-442893333059.</p><p><em>tomcat on Fri Aug 01 07:22:33 UTC 2025</em><br>Added encounter e969f61a-529a-4762-bca1-584c61fe806f.</p>",
      mediaAssetLabeledKeywords: {},
      id: "e969f61a-529a-4762-bca1-584c61fe806f",
      state: "",
      tissueSampleIds: [],
      biologicalMeasurements: {},
      occurrenceGroupBehavior: null,
      featuredAssetUuid: "c427cc4a-f251-4d36-9c21-310ef9c023e0",
      verbatimEventDate: null,
      mediaAssets: [
        {
          mimeTypeMinor: "jpeg",
          width: 2304,
          annotations: [
            {
              boundingBox: [0, 0, 2304, 1296],
              id: "eacb26e1-c356-4d1b-a2af-b4c0dfc89eb3",
              encounterId: "e969f61a-529a-4762-bca1-584c61fe806f",
              theta: 0,
            },
          ],
          mimeTypeMajor: "image",
          id: 173748,
          uuid: "c427cc4a-f251-4d36-9c21-310ef9c023e0",
          url: "https://qa.wildme.org/wildbook_data_dir/e/6/e6061728-74e4-43b3-b7a8-0e1504420ec4/bee6be0a-42c9-488d-a348-e1a00eb57109-master.jpg",
          height: 1296,
        },
      ],
      verbatimLocality: null,
      numberMediaAssets: 1,
      metalTags: [],
      version: 1754006400000,
      patterningCode: null,
      annotationIAClasses: [],
      occurrenceGroupComposition: null,
      livingStatus: "alive",
      dateSubmitted: "2025-07-22T01:56:04",
      mediaAssetKeywords: ["fubar", "permanent scar"],
      access: "full",
      numberAnnotations: 0,
      geneticSex: null,
      individualId: null,
      occurrenceId: "newsighting123",
      submitters: [
        "pratisthabuddhacharya@gmail.com",
        "pbuddha",
        "a8ec03eb-0171-47e5-897a-6feefcb83f01",
        "pratistha",
      ],
      dateMillis: 1752682560000,
      distinguishingScar: "there was some black scar",
      publiclyReadable: false,
      locationId: "TT",
      behavior: null,
      measurements: [],
      locationName: "TÃ¼mpel TT",
      haplotype: null,
      locationGeoPoint: null,
      sex: "unknown",
      assignedUsername: "pbuddha",
      informOthers: [],
      indexTimestamp: 1755274589343,
      otherCatalogNumbers: null,
      lifeStage: null,
      organizations: ["602aa5e7-59bb-49ee-8e6e-112aeeb82c89"],
      occurrenceRemarks: "",
      annotationViewpoints: [],
    },
    {
      date: "2025-07-16T16:16Z",
      microsatelliteMarkers: [],
      country: null,
      projects: [],
      dynamicProperties: {},
      occurrenceLocationGeoPoint: null,
      taxonomy: "Giraffa tippelskirchi",
      photographers: [],
      submitterUserId: "58c17c47-3b40-4730-adf9-918df1c65ed1",
      occurrenceComments: "None",
      mediaAssetLabeledKeywords: {},
      id: "d3b23fdc-9e5b-430f-bcab-2acae51fa2d8",
      state: "",
      tissueSampleIds: [],
      biologicalMeasurements: {},
      occurrenceGroupBehavior: null,
      featuredAssetUuid: "70e20697-66eb-46b0-b11a-e0361531134e",
      verbatimEventDate: null,
      mediaAssets: [
        {
          mimeTypeMinor: "jpeg",
          width: 2304,
          annotations: [
            {
              boundingBox: [1655, 550, 370, 627],
              id: "9f46cae5-47d5-4943-922f-8f28c742b5f6",
              encounterId: "d3b23fdc-9e5b-430f-bcab-2acae51fa2d8",
              theta: 0,
            },
            {
              boundingBox: [193, 377, 909, 685],
              id: "b4b002a9-d939-4bbe-ae81-044971e6102e",
              encounterId: "1e26eeb6-c59d-4ba1-8300-454b0cab5188",
              theta: 0,
            },
          ],
          mimeTypeMajor: "image",
          id: 173718,
          uuid: "70e20697-66eb-46b0-b11a-e0361531134e",
          url: "https://qa.wildme.org/wildbook_data_dir/e/6/e6061728-74e4-43b3-b7a8-0e1504420ec4/c6a0e50e-e617-4d97-9057-d794c509aaac-master.jpg",
          height: 1296,
        },
      ],
      verbatimLocality: null,
      numberMediaAssets: 1,
      metalTags: [],
      version: 1754352000000,
      patterningCode: null,
      annotationIAClasses: ["giraffe_whole"],
      occurrenceGroupComposition: null,
      livingStatus: null,
      dateSubmitted: "2025-07-22T01:46:14",
      mediaAssetKeywords: [],
      access: "full",
      numberAnnotations: 1,
      geneticSex: null,
      individualId: null,
      occurrenceId: "7dfbc57c-1212-463d-9077-8d07b7ed6860",
      submitters: [
        "4c1aefee-9e90-48ea-ba2e-0925cd940f3c",
        "kirk",
        "pratisthaabuddhacharya@gmail.com",
        "kirklarsen@proton.me",
        "58c17c47-3b40-4730-adf9-918df1c65ed1",
      ],
      dateMillis: 1752682560000,
      distinguishingScar: "None",
      publiclyReadable: false,
      locationId: "TT",
      behavior: null,
      measurements: [],
      locationName: "TÃ¼mpel TT",
      haplotype: null,
      locationGeoPoint: null,
      sex: "female",
      assignedUsername: "kirk",
      informOthers: [],
      indexTimestamp: 1755274590179,
      otherCatalogNumbers: null,
      lifeStage: null,
      organizations: ["602aa5e7-59bb-49ee-8e6e-112aeeb82c89"],
      occurrenceRemarks: "",
      annotationViewpoints: ["backright"],
    },
    {
      date: "2025-07-16T16:16Z",
      microsatelliteMarkers: [],
      country: null,
      projects: [],
      dynamicProperties: {},
      occurrenceLocationGeoPoint: null,
      taxonomy: "Giraffa tippelskirchi",
      photographers: [],
      submitterUserId: "58c17c47-3b40-4730-adf9-918df1c65ed1",
      occurrenceComments: "None",
      mediaAssetLabeledKeywords: {},
      id: "1e26eeb6-c59d-4ba1-8300-454b0cab5188",
      state: "",
      tissueSampleIds: ["test"],
      biologicalMeasurements: {},
      occurrenceGroupBehavior: null,
      featuredAssetUuid: "70e20697-66eb-46b0-b11a-e0361531134e",
      verbatimEventDate: null,
      mediaAssets: [
        {
          mimeTypeMinor: "jpeg",
          width: 2304,
          annotations: [
            {
              boundingBox: [1655, 550, 370, 627],
              id: "9f46cae5-47d5-4943-922f-8f28c742b5f6",
              encounterId: "d3b23fdc-9e5b-430f-bcab-2acae51fa2d8",
              theta: 0,
            },
            {
              boundingBox: [193, 377, 909, 685],
              id: "b4b002a9-d939-4bbe-ae81-044971e6102e",
              encounterId: "1e26eeb6-c59d-4ba1-8300-454b0cab5188",
              theta: 0,
            },
          ],
          mimeTypeMajor: "image",
          id: 173718,
          uuid: "70e20697-66eb-46b0-b11a-e0361531134e",
          url: "https://qa.wildme.org/wildbook_data_dir/e/6/e6061728-74e4-43b3-b7a8-0e1504420ec4/c6a0e50e-e617-4d97-9057-d794c509aaac-master.jpg",
          height: 1296,
        },
      ],
      verbatimLocality: null,
      numberMediaAssets: 1,
      metalTags: [],
      version: 1753809901000,
      patterningCode: null,
      annotationIAClasses: ["giraffe_whole"],
      occurrenceGroupComposition: null,
      livingStatus: null,
      dateSubmitted: "2025-07-29T17:25:01",
      mediaAssetKeywords: [],
      access: "full",
      numberAnnotations: 1,
      geneticSex: null,
      individualId: null,
      occurrenceId: "7dfbc57c-1212-463d-9077-8d07b7ed6860",
      submitters: [
        "kirk",
        "kirklarsen@proton.me",
        "58c17c47-3b40-4730-adf9-918df1c65ed1",
      ],
      dateMillis: 1752682560000,
      distinguishingScar: "None",
      publiclyReadable: false,
      locationId: "TT",
      behavior: null,
      measurements: [],
      locationName: "TÃ¼mpel TT",
      haplotype: null,
      locationGeoPoint: null,
      sex: null,
      assignedUsername: "kirk",
      informOthers: [],
      indexTimestamp: 1755274590423,
      otherCatalogNumbers: null,
      lifeStage: null,
      organizations: ["602aa5e7-59bb-49ee-8e6e-112aeeb82c89"],
      occurrenceRemarks: "",
      annotationViewpoints: ["down"],
    },
    {
      date: "2025-07-16T16:16Z",
      microsatelliteMarkers: [],
      country: null,
      importTaskId: "e6061728-74e4-43b3-b7a8-0e1504420ec4",
      projects: [],
      dynamicProperties: {},
      occurrenceLocationGeoPoint: null,
      taxonomy: "Giraffa tippelskirchi",
      photographers: [],
      submitterUserId: "58c17c47-3b40-4730-adf9-918df1c65ed1",
      importTaskSourceName: "10.8.test.02.xlsx",
      occurrenceComments: "None",
      mediaAssetLabeledKeywords: {},
      id: "e4a4b66c-8e5a-4043-9c15-ab06dfac1dcd",
      state: "",
      tissueSampleIds: [],
      biologicalMeasurements: {},
      importTaskCreatorId: "9d207cda-92b8-4b95-b1ba-c98845324f45",
      occurrenceGroupBehavior: null,
      featuredAssetUuid: "94ca8c8e-0d24-47c5-a113-44b28d91ba64",
      verbatimEventDate: null,
      mediaAssets: [
        {
          mimeTypeMinor: "jpeg",
          width: 2304,
          annotations: [
            {
              boundingBox: [0, 0, 2304, 1296],
              id: "d198c892-34fa-4bd2-9938-2a9d0eb58530",
              encounterId: "e4a4b66c-8e5a-4043-9c15-ab06dfac1dcd",
              theta: 0,
            },
          ],
          mimeTypeMajor: "image",
          id: 173778,
          uuid: "94ca8c8e-0d24-47c5-a113-44b28d91ba64",
          url: "https://qa.wildme.org/wildbook_data_dir/e/6/e6061728-74e4-43b3-b7a8-0e1504420ec4/dcb600c1-45de-4516-bcdf-a6353c169b7d-master.jpg",
          height: 1296,
        },
      ],
      verbatimLocality: null,
      numberMediaAssets: 1,
      metalTags: [],
      version: 1753149391000,
      patterningCode: null,
      annotationIAClasses: [],
      occurrenceGroupComposition: null,
      livingStatus: null,
      dateSubmitted: "2025-07-22T01:56:31",
      mediaAssetKeywords: [],
      access: "full",
      numberAnnotations: 0,
      geneticSex: null,
      individualId: null,
      occurrenceId: "6a7d3621-5910-4631-a954-ade9bc8d151c",
      submitters: [
        "kirk",
        "kirklarsen@proton.me",
        "58c17c47-3b40-4730-adf9-918df1c65ed1",
      ],
      dateMillis: 1752682560000,
      distinguishingScar: "None",
      publiclyReadable: false,
      locationId: "TT",
      behavior: null,
      measurements: [],
      locationName: "TÃ¼mpel TT",
      haplotype: null,
      locationGeoPoint: null,
      sex: null,
      assignedUsername: "kirk",
      informOthers: [],
      indexTimestamp: 1755274596365,
      otherCatalogNumbers: null,
      lifeStage: null,
      organizations: ["602aa5e7-59bb-49ee-8e6e-112aeeb82c89"],
      occurrenceRemarks: "",
      annotationViewpoints: [],
    },
    {
      date: "2025-07-16T00:00Z",
      microsatelliteMarkers: [],
      country: null,
      importTaskId: "4c39fa24-5ac3-4229-8fc2-2fb6d036344f",
      projects: [],
      dynamicProperties: {},
      occurrenceLocationGeoPoint: null,
      taxonomy: "Giraffa tippelskirchi",
      photographers: [],
      submitterUserId: "58c17c47-3b40-4730-adf9-918df1c65ed1",
      importTaskSourceName: "10.8.test.02.xlsx",
      occurrenceComments: "None",
      mediaAssetLabeledKeywords: {},
      id: "3e48b745-242b-46d6-9928-4e65a91dbfe9",
      state: "",
      tissueSampleIds: [],
      biologicalMeasurements: {},
      importTaskCreatorId: "9d207cda-92b8-4b95-b1ba-c98845324f45",
      occurrenceGroupBehavior: null,
      featuredAssetUuid: "5ee4d8fb-f9ad-4baa-a364-87128fe6932e",
      verbatimEventDate: null,
      mediaAssets: [
        {
          mimeTypeMinor: "jpeg",
          width: 2304,
          annotations: [
            {
              boundingBox: [678, 461, 246, 314],
              id: "367f14cf-6543-48d6-99d0-e41c6f2260cc",
              encounterId: "3e48b745-242b-46d6-9928-4e65a91dbfe9",
              theta: 0,
            },
            {
              boundingBox: [1809, 594, 112, 522],
              id: "2f57f769-e8ce-4250-a45c-eb61536ead69",
              encounterId: "88831ef1-175c-42d4-9437-8e03649ab078",
              theta: 0,
            },
          ],
          mimeTypeMajor: "image",
          id: 173810,
          uuid: "5ee4d8fb-f9ad-4baa-a364-87128fe6932e",
          url: "https://qa.wildme.org/wildbook_data_dir/4/c/4c39fa24-5ac3-4229-8fc2-2fb6d036344f/13a0a92a-26c8-4614-b780-ad4bba1e6480-master.jpg",
          height: 1296,
        },
      ],
      verbatimLocality: null,
      numberMediaAssets: 1,
      metalTags: [],
      version: 1753217790000,
      patterningCode: null,
      annotationIAClasses: ["giraffe_whole"],
      occurrenceGroupComposition: null,
      livingStatus: null,
      dateSubmitted: "2025-07-22T20:56:30",
      mediaAssetKeywords: [],
      access: "full",
      numberAnnotations: 1,
      geneticSex: null,
      individualId: null,
      occurrenceId: "0793ed0b-35ea-46ea-aa2e-0ce80d2530bb",
      submitters: [
        "kirk",
        "kirklarsen@proton.me",
        "58c17c47-3b40-4730-adf9-918df1c65ed1",
      ],
      dateMillis: 1752624000000,
      distinguishingScar: "None",
      publiclyReadable: false,
      locationId: "TT",
      behavior: null,
      measurements: [],
      locationName: "TÃ¼mpel TT",
      haplotype: null,
      locationGeoPoint: null,
      sex: null,
      assignedUsername: "kirk",
      informOthers: [],
      indexTimestamp: 1755274419459,
      otherCatalogNumbers: null,
      lifeStage: null,
      organizations: ["602aa5e7-59bb-49ee-8e6e-112aeeb82c89"],
      occurrenceRemarks: "",
      annotationViewpoints: ["backleft"],
    },
    {
      date: "2025-07-16T00:00Z",
      microsatelliteMarkers: [],
      country: null,
      importTaskId: "4c39fa24-5ac3-4229-8fc2-2fb6d036344f",
      projects: [],
      dynamicProperties: {},
      occurrenceLocationGeoPoint: null,
      taxonomy: "Giraffa tippelskirchi",
      photographers: [],
      submitterUserId: "58c17c47-3b40-4730-adf9-918df1c65ed1",
      importTaskSourceName: "10.8.test.02.xlsx",
      occurrenceComments: "None",
      mediaAssetLabeledKeywords: {},
      id: "88831ef1-175c-42d4-9437-8e03649ab078",
      state: "",
      tissueSampleIds: [],
      biologicalMeasurements: {},
      importTaskCreatorId: "9d207cda-92b8-4b95-b1ba-c98845324f45",
      occurrenceGroupBehavior: null,
      featuredAssetUuid: "5ee4d8fb-f9ad-4baa-a364-87128fe6932e",
      verbatimEventDate: null,
      mediaAssets: [
        {
          mimeTypeMinor: "jpeg",
          width: 2304,
          annotations: [
            {
              boundingBox: [678, 461, 246, 314],
              id: "367f14cf-6543-48d6-99d0-e41c6f2260cc",
              encounterId: "3e48b745-242b-46d6-9928-4e65a91dbfe9",
              theta: 0,
            },
            {
              boundingBox: [1809, 594, 112, 522],
              id: "2f57f769-e8ce-4250-a45c-eb61536ead69",
              encounterId: "88831ef1-175c-42d4-9437-8e03649ab078",
              theta: 0,
            },
          ],
          mimeTypeMajor: "image",
          id: 173810,
          uuid: "5ee4d8fb-f9ad-4baa-a364-87128fe6932e",
          url: "https://qa.wildme.org/wildbook_data_dir/4/c/4c39fa24-5ac3-4229-8fc2-2fb6d036344f/13a0a92a-26c8-4614-b780-ad4bba1e6480-master.jpg",
          height: 1296,
        },
      ],
      verbatimLocality: null,
      numberMediaAssets: 1,
      metalTags: [],
      version: 1753809977000,
      patterningCode: null,
      annotationIAClasses: ["giraffe_whole"],
      occurrenceGroupComposition: null,
      livingStatus: null,
      dateSubmitted: "2025-07-29T17:26:17",
      mediaAssetKeywords: [],
      access: "full",
      numberAnnotations: 1,
      geneticSex: null,
      individualId: null,
      occurrenceId: "0793ed0b-35ea-46ea-aa2e-0ce80d2530bb",
      submitters: [
        "kirk",
        "kirklarsen@proton.me",
        "58c17c47-3b40-4730-adf9-918df1c65ed1",
      ],
      dateMillis: 1752624000000,
      distinguishingScar: "None",
      publiclyReadable: false,
      locationId: "TT",
      behavior: null,
      measurements: [],
      locationName: "TÃ¼mpel TT",
      haplotype: null,
      locationGeoPoint: null,
      sex: null,
      assignedUsername: "kirk",
      informOthers: [],
      indexTimestamp: 1755274419547,
      otherCatalogNumbers: null,
      lifeStage: null,
      organizations: ["602aa5e7-59bb-49ee-8e6e-112aeeb82c89"],
      occurrenceRemarks: "",
      annotationViewpoints: ["downback"],
    },
    {
      date: "2025-07-16T00:00Z",
      microsatelliteMarkers: [],
      country: null,
      importTaskId: "08ee639a-c632-47f3-ac4f-c928dcee11c4",
      projects: [],
      dynamicProperties: {},
      occurrenceLocationGeoPoint: null,
      taxonomy: "Giraffa tippelskirchi",
      photographers: [],
      submitterUserId: "58c17c47-3b40-4730-adf9-918df1c65ed1",
      importTaskSourceName: "10.8.test.02.xlsx",
      occurrenceComments: "None",
      mediaAssetLabeledKeywords: {},
      id: "efbd716d-6cbb-46f0-bfee-606cdc916441",
      state: "",
      tissueSampleIds: [],
      biologicalMeasurements: {},
      importTaskCreatorId: "9d207cda-92b8-4b95-b1ba-c98845324f45",
      occurrenceGroupBehavior: null,
      verbatimEventDate: null,
      mediaAssets: [],
      verbatimLocality: null,
      numberMediaAssets: 0,
      metalTags: [],
      version: 1754352000000,
      patterningCode: null,
      annotationIAClasses: [],
      occurrenceGroupComposition: null,
      livingStatus: null,
      dateSubmitted: "2025-07-22T17:09:58",
      mediaAssetKeywords: [],
      access: "full",
      numberAnnotations: 0,
      geneticSex: null,
      individualId: null,
      occurrenceId: "0850f9a4-c21b-4d12-891e-0bacaf774f3b",
      submitters: [
        "kirk",
        "kirklarsen@proton.me",
        "58c17c47-3b40-4730-adf9-918df1c65ed1",
      ],
      dateMillis: 1752624000000,
      distinguishingScar: "None",
      publiclyReadable: false,
      locationId: "TT",
      behavior: null,
      measurements: [],
      locationName: "TÃ¼mpel TT",
      haplotype: null,
      locationGeoPoint: null,
      sex: "female",
      assignedUsername: "kirk",
      informOthers: [],
      indexTimestamp: 1755274593074,
      otherCatalogNumbers: null,
      lifeStage: null,
      organizations: ["602aa5e7-59bb-49ee-8e6e-112aeeb82c89"],
      occurrenceRemarks: "",
      annotationViewpoints: [],
    },
    {
      date: "2025-07-16T00:00Z",
      microsatelliteMarkers: [],
      country: null,
      projects: [],
      dynamicProperties: {},
      occurrenceLocationGeoPoint: null,
      taxonomy: null,
      photographers: [],
      submitterUserId: "58c17c47-3b40-4730-adf9-918df1c65ed1",
      occurrenceComments: "None",
      mediaAssetLabeledKeywords: {},
      id: "bcdc3004-c4c1-4305-aaa9-cd5217987d4e",
      state: "",
      tissueSampleIds: [],
      biologicalMeasurements: {},
      occurrenceGroupBehavior: null,
      verbatimEventDate: null,
      mediaAssets: [],
      verbatimLocality: null,
      numberMediaAssets: 0,
      metalTags: [],
      version: 1754352000000,
      patterningCode: null,
      annotationIAClasses: [],
      occurrenceGroupComposition: null,
      livingStatus: null,
      dateSubmitted: "2025-07-22T01:32:57",
      mediaAssetKeywords: [],
      access: "full",
      numberAnnotations: 0,
      geneticSex: null,
      individualId: null,
      occurrenceId: "518600a8-0ff4-4435-a5b8-929eb699c0c6",
      submitters: [
        "kirk",
        "kirklarsen@proton.me",
        "58c17c47-3b40-4730-adf9-918df1c65ed1",
      ],
      dateMillis: 1752624000000,
      distinguishingScar: "None",
      publiclyReadable: false,
      locationId: "TT",
      behavior: null,
      measurements: [],
      locationName: "TÃ¼mpel TT",
      haplotype: null,
      locationGeoPoint: null,
      sex: "unknown",
      assignedUsername: "kirk",
      informOthers: [],
      indexTimestamp: 1755274593124,
      otherCatalogNumbers: null,
      lifeStage: null,
      organizations: ["602aa5e7-59bb-49ee-8e6e-112aeeb82c89"],
      occurrenceRemarks: "",
      annotationViewpoints: [],
    },
    {
      date: "2025-07-16T00:00Z",
      microsatelliteMarkers: [],
      country: "Belgium",
      importTaskId: "d4243ee9-db72-4427-84fd-0487d8bf1cd5",
      projects: [],
      dynamicProperties: {},
      occurrenceLocationGeoPoint: null,
      taxonomy: "Giraffa tippelskirchi",
      photographers: [],
      submitterUserId: "58c17c47-3b40-4730-adf9-918df1c65ed1",
      importTaskSourceName: "10.8.test.02.xlsx",
      occurrenceComments: "None",
      mediaAssetLabeledKeywords: {},
      id: "cb776db2-76b7-426a-b4dd-2e6947c795e1",
      state: "",
      tissueSampleIds: [],
      biologicalMeasurements: {},
      importTaskCreatorId: "9d207cda-92b8-4b95-b1ba-c98845324f45",
      occurrenceGroupBehavior: null,
      featuredAssetUuid: "2bf66a1a-7d18-4b01-9c2f-037c6240ba84",
      verbatimEventDate: null,
      mediaAssets: [
        {
          mimeTypeMinor: "jpeg",
          width: 2304,
          annotations: [
            {
              boundingBox: [0, 0, 2304, 1296],
              id: "9985587b-5682-416a-8817-76a2b0bb1b38",
              encounterId: "cb776db2-76b7-426a-b4dd-2e6947c795e1",
              theta: 0,
            },
          ],
          mimeTypeMajor: "image",
          id: 173543,
          uuid: "2bf66a1a-7d18-4b01-9c2f-037c6240ba84",
          url: "https://qa.wildme.org/wildbook_data_dir/d/4/d4243ee9-db72-4427-84fd-0487d8bf1cd5/8794691e-f721-45a1-b30d-0a51510b6459-master.jpg",
          height: 1296,
        },
      ],
      verbatimLocality: null,
      numberMediaAssets: 1,
      metalTags: [],
      version: 1753146824000,
      patterningCode: null,
      annotationIAClasses: [],
      occurrenceGroupComposition: null,
      livingStatus: null,
      dateSubmitted: "2025-07-22T01:13:44",
      mediaAssetKeywords: [],
      access: "full",
      numberAnnotations: 0,
      geneticSex: null,
      individualId: null,
      occurrenceId: "c5f5d39d-01fa-4caf-96c1-3707db5fc992",
      submitters: [
        "kirk",
        "kirklarsen@proton.me",
        "58c17c47-3b40-4730-adf9-918df1c65ed1",
      ],
      dateMillis: 1752624000000,
      distinguishingScar: "None",
      publiclyReadable: false,
      locationId: "TT",
      behavior: null,
      measurements: [],
      locationName: "TÃ¼mpel TT",
      haplotype: null,
      locationGeoPoint: null,
      sex: null,
      assignedUsername: "kirk",
      informOthers: [],
      indexTimestamp: 1755274593189,
      otherCatalogNumbers: null,
      lifeStage: null,
      organizations: ["602aa5e7-59bb-49ee-8e6e-112aeeb82c89"],
      occurrenceRemarks: "",
      annotationViewpoints: [],
    },
    {
      date: "2025-07-16T00:00Z",
      microsatelliteMarkers: [],
      country: "United Arab Emirates",
      importTaskId: "1a40544e-4b00-4f56-a474-50e7b7f50e52",
      projects: [],
      dynamicProperties: {
        13: "13",
      },
      occurrenceLocationGeoPoint: null,
      taxonomy: "Giraffa giraffa giraffa",
      photographers: [],
      submitterUserId: "58c17c47-3b40-4730-adf9-918df1c65ed1",
      importTaskSourceName: "10.8.test.02.xlsx",
      occurrenceComments: "None",
      mediaAssetLabeledKeywords: {},
      id: "474b711a-19cd-4e6c-bd73-33ab1b3e4491",
      state: "",
      tissueSampleIds: [],
      biologicalMeasurements: {},
      importTaskCreatorId: "9d207cda-92b8-4b95-b1ba-c98845324f45",
      occurrenceGroupBehavior: null,
      featuredAssetUuid: "b81c0e79-14d7-4e06-b7d6-36aad9e0bb91",
      verbatimEventDate: null,
      mediaAssets: [
        {
          mimeTypeMinor: "jpeg",
          width: 2304,
          annotations: [
            {
              boundingBox: [0, 0, 2304, 1296],
              id: "70091285-4fec-4d16-a11a-047a08e59f4c",
              encounterId: "474b711a-19cd-4e6c-bd73-33ab1b3e4491",
              theta: 0,
            },
          ],
          mimeTypeMajor: "image",
          id: 173405,
          uuid: "b81c0e79-14d7-4e06-b7d6-36aad9e0bb91",
          url: "https://qa.wildme.org/wildbook_data_dir/1/a/1a40544e-4b00-4f56-a474-50e7b7f50e52/e242e0b3-373b-4dee-a839-8aad6a816459-master.jpg",
          height: 1296,
        },
      ],
      verbatimLocality: null,
      numberMediaAssets: 1,
      metalTags: [],
      version: 1754006400000,
      patterningCode: null,
      annotationIAClasses: [],
      occurrenceGroupComposition: null,
      livingStatus: "alive",
      dateSubmitted: "2025-07-21T21:43:17",
      mediaAssetKeywords: [],
      access: "full",
      numberAnnotations: 0,
      geneticSex: null,
      individualId: null,
      occurrenceId: "3bfd2ed6-c5f5-4b6c-87e1-c5f9062e5106",
      submitters: [
        "kirk",
        "kirklarsen@proton.me",
        "58c17c47-3b40-4730-adf9-918df1c65ed1",
      ],
      dateMillis: 1752624000000,
      distinguishingScar: "None",
      publiclyReadable: false,
      locationId: "VB-A",
      behavior: "feeding",
      measurements: [
        {
          samplingProtocol: "samplingProtocol0",
          units: "Celsius",
          type: "WaterTemperature",
          value: 12,
        },
        {
          samplingProtocol: "samplingProtocol0",
          units: "",
          type: "Salinity",
          value: 12,
        },
      ],
      locationName: "Venner Bach A",
      haplotype: null,
      locationGeoPoint: null,
      sex: "female",
      assignedUsername: "kirk",
      informOthers: [],
      indexTimestamp: 1755274590357,
      otherCatalogNumbers: null,
      lifeStage: "adult",
      organizations: ["602aa5e7-59bb-49ee-8e6e-112aeeb82c89"],
      occurrenceRemarks: "",
      annotationViewpoints: [],
    },
    {
      date: "2025-07-16T00:00Z",
      microsatelliteMarkers: [],
      country: "Anguilla",
      importTaskId: "180a5ee7-74ff-47b1-aa99-f21067fa8a0b",
      projects: [],
      dynamicProperties: {},
      occurrenceLocationGeoPoint: null,
      taxonomy: "Giraffa tippelskirchi",
      photographers: [],
      submitterUserId: "58c17c47-3b40-4730-adf9-918df1c65ed1",
      importTaskSourceName: "10.8.test.02.xlsx",
      occurrenceComments: "None",
      mediaAssetLabeledKeywords: {},
      id: "c1c37981-36ea-4537-8375-daf243a8d956",
      state: "",
      tissueSampleIds: [],
      biologicalMeasurements: {},
      importTaskCreatorId: "9d207cda-92b8-4b95-b1ba-c98845324f45",
      occurrenceGroupBehavior: null,
      featuredAssetUuid: "26fb4779-6791-4588-bb82-4ed2822ac635",
      verbatimEventDate: null,
      mediaAssets: [
        {
          mimeTypeMinor: "jpeg",
          width: 2304,
          annotations: [
            {
              boundingBox: [0, 0, 2304, 1296],
              id: "4806dd85-00cd-47ab-a92b-8ecf57789cbf",
              encounterId: "c1c37981-36ea-4537-8375-daf243a8d956",
              theta: 0,
            },
          ],
          mimeTypeMajor: "image",
          id: 173443,
          uuid: "26fb4779-6791-4588-bb82-4ed2822ac635",
          url: "https://qa.wildme.org/wildbook_data_dir/1/8/180a5ee7-74ff-47b1-aa99-f21067fa8a0b/a5d9258b-ec38-4b7a-bce8-7e252d1c7e25-master.jpg",
          height: 1296,
        },
      ],
      verbatimLocality: null,
      numberMediaAssets: 1,
      metalTags: [],
      version: 1754006400000,
      patterningCode: null,
      annotationIAClasses: [],
      occurrenceGroupComposition: null,
      livingStatus: null,
      dateSubmitted: "2025-07-21T22:08:26",
      mediaAssetKeywords: [],
      access: "full",
      numberAnnotations: 0,
      geneticSex: null,
      individualId: null,
      occurrenceId: "d7a55993-e8b8-4607-93d5-b0e302ac9344",
      submitters: [
        "kirk",
        "kirklarsen@proton.me",
        "58c17c47-3b40-4730-adf9-918df1c65ed1",
      ],
      dateMillis: 1752624000000,
      distinguishingScar: "None",
      publiclyReadable: false,
      locationId: "KB",
      behavior: null,
      measurements: [
        {
          samplingProtocol: "samplingProtocol0",
          units: "Celsius",
          type: "WaterTemperature",
          value: 34,
        },
        {
          samplingProtocol: "samplingProtocol0",
          units: "",
          type: "Salinity",
          value: 34,
        },
      ],
      locationName: "Klufterbach",
      haplotype: null,
      locationGeoPoint: null,
      sex: null,
      assignedUsername: "kirk",
      informOthers: [],
      indexTimestamp: 1755274590375,
      otherCatalogNumbers: null,
      lifeStage: null,
      organizations: ["602aa5e7-59bb-49ee-8e6e-112aeeb82c89"],
      occurrenceRemarks: "",
      annotationViewpoints: [],
    },
    {
      date: "2025-07-16T00:00Z",
      microsatelliteMarkers: [],
      country: "Chile",
      importTaskId: "b350340d-c327-4788-a55b-1a7ce5862d40",
      projects: [],
      dynamicProperties: {},
      occurrenceLocationGeoPoint: null,
      taxonomy: "Giraffa tippelskirchi",
      photographers: [],
      submitterUserId: "58c17c47-3b40-4730-adf9-918df1c65ed1",
      importTaskSourceName: "10.8.test.02.xlsx",
      occurrenceComments: "None",
      mediaAssetLabeledKeywords: {},
      id: "b3f4cad0-262e-4dc2-800f-9a6e5972600d",
      state: "",
      tissueSampleIds: [],
      biologicalMeasurements: {},
      importTaskCreatorId: "9d207cda-92b8-4b95-b1ba-c98845324f45",
      occurrenceGroupBehavior: null,
      featuredAssetUuid: "8093bb8d-c604-4193-9659-d70c453ad57d",
      verbatimEventDate: null,
      mediaAssets: [
        {
          mimeTypeMinor: "jpeg",
          width: 2304,
          annotations: [
            {
              boundingBox: [0, 0, 2304, 1296],
              id: "0c766e60-789e-49f2-85a6-7088f937c6db",
              encounterId: "b3f4cad0-262e-4dc2-800f-9a6e5972600d",
              theta: 0,
            },
          ],
          mimeTypeMajor: "image",
          id: 173373,
          uuid: "8093bb8d-c604-4193-9659-d70c453ad57d",
          url: "https://qa.wildme.org/wildbook_data_dir/b/3/b350340d-c327-4788-a55b-1a7ce5862d40/a9adbdae-f6d1-4795-bcde-7ceee1e8a525-master.jpg",
          height: 1296,
        },
      ],
      verbatimLocality: null,
      numberMediaAssets: 1,
      metalTags: [],
      version: 1754352000000,
      patterningCode: null,
      annotationIAClasses: [],
      occurrenceGroupComposition: null,
      livingStatus: null,
      dateSubmitted: "2025-07-21T19:09:25",
      mediaAssetKeywords: [],
      access: "full",
      numberAnnotations: 0,
      geneticSex: null,
      individualId: null,
      occurrenceId: "a24941bf-54f2-47a6-af95-1cb1ed5dd822",
      submitters: [
        "kirk",
        "kirklarsen@proton.me",
        "58c17c47-3b40-4730-adf9-918df1c65ed1",
      ],
      dateMillis: 1752624000000,
      distinguishingScar: "None",
      publiclyReadable: false,
      locationId: "VB-A",
      behavior: null,
      measurements: [],
      locationName: "Venner Bach A",
      haplotype: null,
      locationGeoPoint: null,
      sex: "male",
      assignedUsername: "kirk",
      informOthers: [],
      indexTimestamp: 1755274590571,
      otherCatalogNumbers: null,
      lifeStage: null,
      organizations: ["602aa5e7-59bb-49ee-8e6e-112aeeb82c89"],
      occurrenceRemarks: "",
      annotationViewpoints: [],
    },
    {
      date: "2025-07-16T00:00Z",
      microsatelliteMarkers: [],
      country: null,
      importTaskId: "44130a9d-121f-4314-90cd-0c9e29d93ceb",
      projects: [],
      dynamicProperties: {},
      occurrenceLocationGeoPoint: null,
      taxonomy: "Giraffa tippelskirchi",
      photographers: [],
      submitterUserId: "58c17c47-3b40-4730-adf9-918df1c65ed1",
      importTaskSourceName: "10.8.test.02.xlsx",
      occurrenceComments: "None",
      mediaAssetLabeledKeywords: {},
      id: "77fee24a-387e-414d-871d-f62c77dd5c53",
      state: "",
      tissueSampleIds: [],
      biologicalMeasurements: {},
      importTaskCreatorId: "9d207cda-92b8-4b95-b1ba-c98845324f45",
      occurrenceGroupBehavior: null,
      verbatimEventDate: null,
      mediaAssets: [],
      verbatimLocality: null,
      numberMediaAssets: 0,
      metalTags: [],
      version: 1753204835000,
      patterningCode: null,
      annotationIAClasses: [],
      occurrenceGroupComposition: null,
      livingStatus: null,
      dateSubmitted: "2025-07-22T17:20:35",
      mediaAssetKeywords: [],
      access: "full",
      numberAnnotations: 0,
      geneticSex: null,
      individualId: null,
      occurrenceId: "e63ef00a-4872-480b-a305-d04b4d3e4060",
      submitters: [
        "kirk",
        "kirklarsen@proton.me",
        "58c17c47-3b40-4730-adf9-918df1c65ed1",
      ],
      dateMillis: 1752624000000,
      distinguishingScar: "None",
      publiclyReadable: false,
      locationId: "TT",
      behavior: null,
      measurements: [],
      locationName: "TÃ¼mpel TT",
      haplotype: null,
      locationGeoPoint: null,
      sex: null,
      assignedUsername: "kirk",
      informOthers: [],
      indexTimestamp: 1755274596511,
      otherCatalogNumbers: null,
      lifeStage: null,
      organizations: ["602aa5e7-59bb-49ee-8e6e-112aeeb82c89"],
      occurrenceRemarks: "",
      annotationViewpoints: [],
    },
    {
      date: "2025-07-16T00:00Z",
      microsatelliteMarkers: [],
      country: null,
      importTaskId: "d52e2835-2bcb-4d57-b504-c88f174b21bb",
      projects: [],
      dynamicProperties: {},
      occurrenceLocationGeoPoint: null,
      taxonomy: "Giraffa tippelskirchi",
      photographers: [],
      submitterUserId: "58c17c47-3b40-4730-adf9-918df1c65ed1",
      importTaskSourceName: "10.8.test.02.xlsx",
      occurrenceComments: "None",
      mediaAssetLabeledKeywords: {},
      id: "cb1c694d-884c-4b7d-9e59-cc9e751c4a36",
      state: "",
      tissueSampleIds: [],
      biologicalMeasurements: {},
      importTaskCreatorId: "9d207cda-92b8-4b95-b1ba-c98845324f45",
      occurrenceGroupBehavior: null,
      featuredAssetUuid: "3ab80e0e-f1d9-415e-ac44-363c576f7193",
      verbatimEventDate: null,
      mediaAssets: [
        {
          mimeTypeMinor: "jpeg",
          width: 2304,
          annotations: [
            {
              boundingBox: [0, 0, 2304, 1296],
              id: "666ac691-4acd-4bfe-b247-4cc50f96b64c",
              encounterId: "cb1c694d-884c-4b7d-9e59-cc9e751c4a36",
              theta: 0,
            },
          ],
          mimeTypeMajor: "image",
          id: 173850,
          uuid: "3ab80e0e-f1d9-415e-ac44-363c576f7193",
          url: "https://qa.wildme.org/wildbook_data_dir/d/5/d52e2835-2bcb-4d57-b504-c88f174b21bb/ffaa452b-4d5c-44bd-a876-830eb4c91aab-master.jpg",
          height: 1296,
        },
      ],
      verbatimLocality: null,
      numberMediaAssets: 1,
      metalTags: [],
      version: 1753283151000,
      patterningCode: null,
      annotationIAClasses: [],
      occurrenceGroupComposition: null,
      livingStatus: null,
      dateSubmitted: "2025-07-23T15:05:51",
      mediaAssetKeywords: [],
      access: "full",
      numberAnnotations: 0,
      geneticSex: null,
      individualId: null,
      occurrenceId: "62ba486b-59b4-4898-bb9f-1290a3bf7137",
      submitters: [
        "kirk",
        "kirklarsen@proton.me",
        "58c17c47-3b40-4730-adf9-918df1c65ed1",
      ],
      dateMillis: 1752624000000,
      distinguishingScar: "None",
      publiclyReadable: false,
      locationId: "TT",
      behavior: null,
      measurements: [],
      locationName: "TÃ¼mpel TT",
      haplotype: null,
      locationGeoPoint: null,
      sex: null,
      assignedUsername: "kirk",
      informOthers: [],
      indexTimestamp: 1755274596628,
      otherCatalogNumbers: null,
      lifeStage: null,
      organizations: ["602aa5e7-59bb-49ee-8e6e-112aeeb82c89"],
      occurrenceRemarks: "",
      annotationViewpoints: [],
    },
    {
      date: "2025-07-16T00:00Z",
      microsatelliteMarkers: [],
      country: null,
      importTaskId: "b518f4f8-52f1-42d6-96da-fc329bb224aa",
      projects: [],
      dynamicProperties: {},
      occurrenceLocationGeoPoint: null,
      taxonomy: "Giraffa tippelskirchi",
      photographers: [],
      submitterUserId: "58c17c47-3b40-4730-adf9-918df1c65ed1",
      importTaskSourceName: "10.8.test.02.xlsx",
      occurrenceComments: "None",
      mediaAssetLabeledKeywords: {},
      id: "f3adde2e-15c2-4b5d-ac20-a258820488fa",
      state: "",
      tissueSampleIds: [],
      biologicalMeasurements: {},
      importTaskCreatorId: "9d207cda-92b8-4b95-b1ba-c98845324f45",
      occurrenceGroupBehavior: null,
      verbatimEventDate: null,
      mediaAssets: [],
      verbatimLocality: null,
      numberMediaAssets: 0,
      metalTags: [],
      version: 1753395231000,
      patterningCode: null,
      annotationIAClasses: [],
      occurrenceGroupComposition: null,
      livingStatus: null,
      dateSubmitted: "2025-07-24T22:13:51",
      mediaAssetKeywords: [],
      access: "full",
      numberAnnotations: 0,
      geneticSex: null,
      individualId: null,
      occurrenceId: "7e1e27be-d337-46f4-829a-ce050fcf468e",
      submitters: [
        "kirk",
        "kirklarsen@proton.me",
        "58c17c47-3b40-4730-adf9-918df1c65ed1",
      ],
      dateMillis: 1752624000000,
      distinguishingScar: "None",
      publiclyReadable: false,
      locationId: "TT",
      behavior: null,
      measurements: [],
      locationName: "TÃ¼mpel TT",
      haplotype: null,
      locationGeoPoint: null,
      sex: null,
      assignedUsername: "kirk",
      informOthers: [],
      indexTimestamp: 1755274596799,
      otherCatalogNumbers: null,
      lifeStage: null,
      organizations: ["602aa5e7-59bb-49ee-8e6e-112aeeb82c89"],
      occurrenceRemarks: "",
      annotationViewpoints: [],
    },
  ];

  const allMediaAssets = useMemo(() => {
    // const src = store.searchResultsAll ?? [];
    const src = allData;
    return src
      .filter(
        (item) =>
          Array.isArray(item.mediaAssets) && item.mediaAssets.length > 0,
      )
      .flatMap((item) =>
        item.mediaAssets.map((a, idx) => ({
          ...a,
          __k: `${a.uuid ?? a.id ?? "na"}-${idx}`,
        })),
      );
  }, [store.searchResultsAll]);

  const [page, setPage] = useState(1);
  const pageSize = store.imageCountPerPage || 20;
  const totalItems = allMediaAssets.length;
  const totalPages = Math.max(1, Math.ceil(totalItems / pageSize));
  const start = (page - 1) * pageSize;

  const pageItems = useMemo(
    () => allMediaAssets.slice(start, start + pageSize),
    [allMediaAssets, start, pageSize],
  );

  useEffect(() => {
    setPage(1);
  }, [pageSize, store.searchResultsAll]);
  useEffect(() => {
    if (page > totalPages) setPage(totalPages);
  }, [page, totalPages]);

  const [imageModalOpen, setImageModalOpen] = useState(false);
  const [currentIndex, setCurrentIndex] = useState(0);

  useEffect(() => {
    if (!imageModalOpen) return;
    if (currentIndex >= pageItems.length) {
      setCurrentIndex(Math.max(0, pageItems.length - 1));
    }
  }, [pageItems.length, imageModalOpen, currentIndex]);

  const listKey = `${page}-${pageSize}-${totalItems}`;

  return (
    <div
      className="container mt-1 mb-5"
      style={{ position: "relative", color: "white" }}
    >
      {store.loadingAll && <FullScreenLoader />}
      <h1>
        <FormattedMessage
          id="galleryView.title"
          defaultMessage="Gallery View"
        />
      </h1>

      <PaginationBar
        totalItems={totalItems}
        page={page}
        pageSize={pageSize}
        onPageChange={(p) => setPage(p)}
        onPageSizeChange={(size) => {
          if (typeof store.setimageCountPerPage === "function") {
            store.setimageCountPerPage(size);
          }
        }}
        className="mb-3"
      />

      <div
        key={listKey}
        style={{ display: "flex", flexWrap: "wrap", gap: "20px" }}
      >
        {pageItems.length > 0 ? (
          pageItems.map((asset, i) => (
            <div key={asset.__k} style={{ marginBottom: "20px" }}>
              <img
                src={asset.url}
                alt={`Media Asset ${asset.id ?? asset.uuid ?? ""}`}
                style={{
                  height: 200,
                  width: "auto",
                  maxWidth: 300,
                  cursor: "zoom-in",
                }}
                loading="lazy"
                decoding="async"
                onClick={() => {
                  setCurrentIndex(i);
                  setImageModalOpen(true);
                }}
              />
            </div>
          ))
        ) : (
          <p>
            <FormattedMessage
              id="NO_IMAGE_AVAILABLE"
              defaultMessage="No images"
            />
          </p>
        )}
      </div>

      <ImageModal
        open={imageModalOpen}
        onClose={() => setImageModalOpen(false)}
        assets={pageItems}
        index={currentIndex}
        setIndex={setCurrentIndex}
      />
    </div>
  );
});

export default GalleryView;
